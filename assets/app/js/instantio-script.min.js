!function (t) { "use strict"; function e() { t(".ins-cart-inner.shipping input").each((function () { "" != t(this).val() ? t(this).closest("p.form-row").find("label").addClass("active") : t(this).closest("p.form-row").find("label").removeClass("active") })), t.ajax({ url: ins_params.ajax_url, type: "POST", data: { action: "ins_update_order_review_callback" }, success: function (e) { t(".ins-cart-inner.payment .ins-card-cross-sell").html(""), t(".ins-cart-inner.payment .ins-card-cross-sell").append(e.data.cross_sells), "" != e.data.cross_sells && null != e.data.cross_sells ? t(".ins-cart-inner.payment .ins-card-cross-sell").addClass("active") : t(".ins-cart-inner.payment .ins-card-cross-sell").removeClass("active") } }) } function a() { 1 == hide_toggler && (0 == t("#ins_cart_totals").html() ? (t(".ins-toggle-btn").css({ visibility: "hidden", opacity: "0" }), t(".ins-checkout-layout-3").removeClass("active"), t(".ins-checkout-overlay").removeClass("active"), t(".ins-checkout-popup").removeClass("active")) : t(".ins-toggle-btn").css({ visibility: "visible", opacity: "1" })) } function s() { t(".ins-product-sell-carousel").length > 0 && (t(".ins-product-sell-carousel").owlCarousel("destroy"), t(".ins-product-sell-carousel").owlCarousel({ margin: 10, nav: !0, dots: !1, responsive: { 0: { items: 1 }, 600: { items: 1 }, 1e3: { items: 2 } } })) } function n() { t(".ins-toggle-btn").addClass("ins-icon-animation-one"), setTimeout((function () { t(".ins-toggle-btn").removeClass("ins-icon-animation-one") }), 1e3) } t(document).ready((function () { t(document).on("click", ".ins-checkout-close", (function (e) { e.preventDefault(), t(".ins-checkout-layout-3.slide").removeClass("active"), t(".ins-checkout-overlay").removeClass("active"), t(".ins-checkout-popup").removeClass("active"), t(".ins-checkout-layout").removeClass("active"), t(".ins-checkout-popup").removeClass("fadeIn"), t(".ins-click-to-show.popupcart").removeClass("hide") })), t(document).on("click", ".ins-click-to-show.sidecart", (function (e) { e.preventDefault(), t(".ins-checkout-layout-3.slide").toggleClass("active"), t(".ins-checkout-overlay").toggleClass("active"), s() })), t(document).on("click", ".ins-click-to-show.popupcart", (function (e) { e.preventDefault(), t(".ins-checkout-overlay").toggleClass("active"), t(".ins-checkout-popup").toggleClass("active"), t(".ins-checkout-layout").toggleClass("active"), t(".ins-checkout-popup").toggleClass("fadeIn"), s(), function (e = "cart") { "cart" == e && t(".ins_animate_one").length > 0 && (gsap.from(".ins_animate_one .ins-checkout-header", { opacity: 0, y: -100, duration: .2, delay: .2, ease: "fadeIn" }), gsap.from(".ins_animate_one .ins-checkout-steps", { opacity: 0, x: -100, duration: .2, delay: .2, ease: "fadeIn" }), gsap.from(".ins_animate_one .step-1 .ins-cart-content-wrap, .step-1 .ins-up-sells", { opacity: 0, y: -100, duration: .2, delay: .4, ease: "fadeIn" }), gsap.from(".ins_animate_one .step-1 .ins-cart-footer-content, .step-1  .ins-cart-btns", { opacity: 0, x: 100, duration: .2, delay: .6, ease: "fadeIn" })) }("cart"), t(this).toggleClass("hide") })), t(document).on("click", ".ins-checkout-overlay", (function (e) { e.preventDefault(), t(".ins-checkout-layout-3.slide").removeClass("active"), t(".ins-checkout-overlay").removeClass("active"), t(".ins-checkout-popup").removeClass("active"), t(".ins-checkout-layout").removeClass("active"), t(".ins-checkout-popup").removeClass("fadeIn"), t(".ins-click-to-show.popupcart").removeClass("hide") })), t(document).on("click", ".ins-step-btn", (function (e) { e.preventDefault(), t(".ins-step-btn").removeClass("active"), t(this).addClass("active"); var a = t(this).data("step"); t(".ins-single-step").removeClass("active"), t("." + a).addClass("active") })), a(), 0 == t(".ins-checkout-steps").length && t(".ins-content").attr("style", "height: auto !important;"), 0 == noquickview && (t(document).on("click", ".ins-quick-view .close", (function (e) { t(this).parent().fadeOut(300) })), t(document).on("click", ".product_type_variable", (function (e) { e.preventDefault(), t(document).on("click", ".ins-quick-view .close", (function (e) { t(this).parent().fadeOut(300) })), t(this).closest(".product").append('<div class="ins-quick-view"></div>'), t(this).closest(".product").css("position", "relative"), t(document).on("click", ".ins-quick-view .close", (function (e) { t(this).parent().fadeOut(300) })); var a = t(this), s = a.offset(), n = a.data("product_id"); a.hasClass("ins-sell-add-to-cart") ? (t(document.body).append('<div class="ins-quick-view"></div>'), s = a.closest(".ins-single-product-sell").offset(), t(".ins-quick-view").attr("style", "top: " + parseInt(s.top) + "px !important; left: " + s.left + "px !important;")) : (t(".ins-quick-view").remove(), t(this).closest(".product").append('<div class="ins-quick-view"></div>'), t(this).closest(".product").css("position", "relative")), t.ajax({ type: "post", url: ins_params.ajax_url, data: { action: "ins_variable_product_quick_view", security: ins_params.ins_ajax_nonce, product_id: n }, beforeSend: function (e) { a.addClass("loading"), t(".ins-quick-view").block() }, success: function (e) { a.removeClass("loading"), t(".ins-quick-view").fadeIn(300).html(e).prepend('<span class="close"></span>') }, error: function (t) { console.log(t) } }) }))) })), t(document.body).on("added_to_cart", (function () { var n = t(this); t.ajax({ url: ins_params.ajax_url, type: "POST", data: { id: "1", action: "ins_ajax_cart_reload" }, beforeSend: function (t) { n.removeClass("added").addClass("loading") }, complete: function (t) { n.addClass("added").removeClass("loading") }, success: function (n) { t(".ins-quick-view").hide(), t("#ins_cart_totals").html(n.data.ins_cart_count), t(".ins-checkout-layout .ins-content").removeClass("hide"), t(".ins-checkout-layout .ins-content").addClass("ins-show"), t(".ins-single-layout-wrap .ins_single_layout_checkout_area").removeClass("hide"), t(".ins-checkout-layout .ins-cart-empty").addClass("hide"), t(".ins-checkout-layout .ins-cart-inner.step-1").html(""), t(".ins-checkout-layout .ins-cart-inner.step-1").append(n.data.data), 1 == auto_open_toggle && (t(".ins-checkout-layout-3").addClass("active"), t(".ins-checkout-overlay").addClass("active"), t(".ins-checkout-popup").addClass("active"), t(".ins-checkout-popup").addClass("fadeIn")), e(), s(), a(), t(".loader-container").addClass("active"), setTimeout((function () { t(".loader-container").removeClass("active"), t(".ins-single-step").removeClass("done"), t(".ins-single-step").removeClass("active"), t(".ins-single-step.step-1").addClass("done"), t(".ins-single-step.step-1").addClass("active"), t(".ins-content").find(".ins-cart-inner").hide(), t(".ins-content").find(".ins-cart-inner").removeClass("active"), t(".ins-content").find(".step-1").show(), t(".ins-content").find(".step-1").addClass("active") }), 1e3) } }), t('.ins-checkout-layout button[name="update_cart"]').trigger("click") })), t(document).on("click", ".single_add_to_cart_button", (function (a) { if (1 != disable_ajax_add_cart) { a.preventDefault(); var i = t(this), o = i.closest("form.cart"), c = i.val(), l = o.find("input[name=product_id]").val() || c, r = o.find("input[name=quantity]").val() || 1, d = o.find("input[name=variation_id]").val() || 0; t.ajax({ url: ins_params.ajax_url, type: "POST", data: { action: "ins_ajax_cart_single", product_id: l, quantity: r, variation_id: d }, beforeSend: function (t) { i.removeClass("added").addClass("loading") }, complete: function (t) { n(), i.addClass("added").removeClass("loading") }, success: function (a) { t(".ins-quick-view").hide(), t("#ins_cart_totals").html(a.data.ins_cart_count), t(".ins-checkout-layout .ins-content").removeClass("hide"), t(".ins-single-layout-wrap .ins_single_layout_checkout_area").removeClass("hide"), t(".ins-checkout-layout .ins-content").addClass("ins-show"), t(".ins-checkout-layout .ins-cart-empty").addClass("hide"), t(".ins-checkout-layout .ins-cart-inner.step-1").html(""), t(".ins-checkout-layout .ins-cart-inner.step-1").append(a.data.data), s(), 1 == auto_open_toggle && (t(".ins-checkout-layout-3").addClass("active"), t(".ins-checkout-overlay").addClass("active"), t(".ins-checkout-popup").addClass("active"), t(".ins-checkout-popup").addClass("fadeIn")), t(".ins-quick-view").hide(), t(".loader-container").addClass("active"), e(), setTimeout((function () { t(".loader-container").removeClass("active"), t(".ins-single-step").removeClass("done"), t(".ins-single-step").removeClass("active"), t(".ins-single-step.step-1").addClass("done"), t(".ins-single-step.step-1").addClass("active"), t(".ins-content").find(".ins-cart-inner").hide(), t(".ins-content").find(".ins-cart-inner").removeClass("active"), t(".ins-content").find(".step-1").show(), t(".ins-content").find(".step-1").addClass("active") }), 1e3) } }), t('.ins-checkout-layout button[name="update_cart"]').trigger("click") } })), t(document).on("click", ".add_to_cart_button", (function () { if (0 != cart_fly_anim) { if (!t(this).hasClass("product_type_variable")) { var e = t(this).closest(".product").find("img").attr("src"), a = t(this).closest(".product").find("img").offset(), s = t(this).closest(".product").find("img").width(), i = t(".ins-toggle-btn").offset(); if ("" != cart_fly_icon && 1 != cart_fly_icon) var o = '<span class="ins-cart-fly-icon">' + cart_fly_icon + "</span>"; else o = '<img src="' + e + '">'; t("body").append('<div id="ins-cart-fly">' + o + "</div>"), t("#ins-cart-fly").css({ top: a.top + "px", left: a.left + "px", width: s + "px" }).animate({ opacity: 1, top: i.top, left: i.left, width: "50px", height: "auto" }, 1500, "linear", (function () { t(".cartboom").addClass("cart_boom"), setTimeout((function () { t(".cartboom").removeClass("cart_boom") }), 2200), t(this).css({ opacity: "0", "z-index": "0" }), t(this).detach(), n() })) } } else n() })), t(document).on("click", ".single_add_to_cart_button", (function () { if (0 != cart_fly_anim) { if (0 == (e = t(this).closest(".product").find(".woocommerce-product-gallery__wrapper").find("img")).length) var e = t(this).closest(".product").find("a").find("img"); if (void 0 === e || 0 == e.length) return !1; var a = e.attr("src"), s = e.width(), i = e.offset(), o = t(".ins-toggle-btn").offset(); e = "" != cart_fly_icon && 1 != cart_fly_icon ? '<span class="ins-cart-fly-icon">' + cart_fly_icon + "</span>" : '<img src="' + a + '">', t("body").append('<div id="ins-cart-fly">' + e + "</div>"), t("#ins-cart-fly").css({ top: i.top + "px", left: i.left + "px", width: s + "px" }).animate({ opacity: 1, top: o.top, left: o.left, width: "50px", height: "auto" }, 1500, "linear", (function () { t(".cartboom").addClass("cart_boom"), setTimeout((function () { t(".cartboom").removeClass("cart_boom") }), 2200), t(this).css({ opacity: "0", "z-index": "0" }), t(this).detach(), n() })) } })), t(document).on("click", ".ins-cart-minus", (function (a) { a.preventDefault(); let s = t(this).closest(".ins-cart-qty-wrap").find('.quantity input[type="number"].qty'), n = s.val(); n >= 1 && s.val(n - 1), t('.ins-checkout-layout button[name="update_cart"]').trigger("click"), e() })), t(document).on("click", ".ins-cart-plus", (function (a) { a.preventDefault(); let s = t(this).closest(".ins-cart-qty-wrap").find('.quantity input[type="number"].qty'), n = s.val(); s.val(parseInt(n) + 1), t('.ins-checkout-layout button[name="update_cart"]').trigger("click"), e() })), t(document).on("change", ".ins-cart-item-quantity .quantity .qty", (function (e) { e.preventDefault(), t('.ins-checkout-layout button[name="update_cart"]').trigger("click") })), t(document).on("click", ".ins-cart-item-remove", (function (n) { n.preventDefault(); let i = t(this).closest(".ins-single-cart-item"), o = t(this).find("a.remove").data("product_id"), c = t(this).find("a.remove").data("variation_id"); t.ajax({ url: ins_params.ajax_url, type: "POST", data: { product_id: o, variation_id: c, action: "ins_ajax_cart_item_remove" }, beforeSend: function (e) { t(".loader-container").addClass("active") }, complete: function (e) { t(".loader-container").removeClass("active") }, success: function (n) { gsap.to(i, { opacity: 0, x: -100, duration: .2, delay: .2, ease: "fadeIn" }), e(), setTimeout((function () { t("#ins_cart_totals").html(n.data.ins_cart_count), "ins-show" == n.data.display && (t(".ins-checkout-layout .ins-content").removeClass("hide"), t(".ins-single-layout-wrap .ins_single_layout_checkout_area").removeClass("hide")), "ins-show" == n.data.hide_empty && (t(".ins-checkout-layout .ins-cart-empty").removeClass("hide"), t(".ins-single-layout-wrap .ins_single_layout_checkout_area").addClass("hide")), t(".ins-checkout-layout .ins-content").addClass(n.data.display), t(".ins-checkout-layout .ins-cart-empty").addClass(n.data.hide_empty), t(".ins-checkout-layout .ins-cart-inner.step-1").html(""), t(".ins-checkout-layout .ins-cart-inner.step-1").append(n.data.data), s(), a() }), 400) } }) })), t(document).on("click", ".ins-empty-cart", (function (s) { s.preventDefault(), t.ajax({ url: ins_params.ajax_url, type: "POST", data: { action: "ins_ajax_empty_cart" }, beforeSend: function (e) { t(".loader-container").addClass("active") }, complete: function (e) { t(".loader-container").removeClass("active") }, success: function (s) { t("#ins_cart_totals").html(s.data.ins_cart_count), t(".ins-checkout-layout .ins-content").removeClass("ins-show"), t(".ins-checkout-layout .ins-content").addClass("hide"), t(".ins-single-layout-wrap .ins_single_layout_checkout_area").addClass("hide"), t(".ins-checkout-layout .ins-cart-empty").removeClass("hide"), t(".ins-checkout-layout .ins-cart-empty").addClass("ins-show"), t(".ins-checkout-layout .ins-cart-inner.step-1").html(""), t(".ins-checkout-layout .ins-cart-inner.step-1").append(s.data.data), e(), a() } }) })), t(document).on("click", '.ins-checkout-layout button[name="update_cart"], .ins-checkout-layout button[name="apply_coupon"]', (function (n) { t(".ins-cart-inner.shipping input").each((function () { "" != t(this).val() ? t(this).closest("p.form-row").find("label").addClass("active") : t(this).closest("p.form-row").find("label").removeClass("active") })), n.preventDefault(); var i = t(this).closest("form"), o = [], c = [], l = [], r = i.find('input[name="coupon_code"]').val(); return i.find(".cart_item").each((function () { var e = t(this), a = e.data("cart-item-key"), s = e.data("product-id"), n = e.find(".quantity input.qty").val(); o.push(a), c.push(s), l.push(n) })), t.ajax({ url: ins_params.ajax_url, type: "post", data: { action: "ins_ajax_update_cart", cart_item_keys: o, product_ids: c, quantities: l, coupon_code: r }, beforeSend: function (e) { t(".loader-container").addClass("active") }, complete: function (e) { t(".loader-container").removeClass("active") }, success: function (n) { t("#ins_cart_totals").html(n.data.ins_cart_count), "ins-show" == n.data.display && (t(".ins-checkout-layout .ins-content").removeClass("hide"), e(), t(".ins-single-layout-wrap .ins_single_layout_checkout_area").removeClass("hide")), "ins-show" == n.data.hide_empty && (t(".ins-checkout-layout .ins-cart-empty").removeClass("hide"), t(".ins-single-layout-wrap .ins_single_layout_checkout_area").addClass("hide")), t(".ins-checkout-layout .ins-content").addClass(n.data.display), t(".ins-checkout-layout .ins-cart-empty").addClass(n.data.hide_empty), t(".ins-checkout-layout .ins-cart-inner.step-1").html(""), t(".ins-checkout-layout .ins-cart-inner.step-1").append(n.data.data), s(), a() } }), console.log("updated!"), !1 })), t(document).on("click", ".ins-checkout-layout .woocommerce-remove-coupon", (function (e) { e.preventDefault(); let a = t(this).data("coupon"); t.ajax({ url: ins_params.ajax_url, type: "post", data: { coupon: a, action: "ins_ajax_remove_coupon" }, beforeSend: function (e) { t(".loader-container").addClass("active") }, complete: function (e) { t(".loader-container").removeClass("active") }, success: function (e) { t(".ins-checkout-layout").html(""), t(".ins-checkout-layout").html(e.cart_data) } }) })), t(document).on("click", ".ins-cart-collaterals #shipping_method input", (function (e) { var a, s = {}; t("select.shipping_method, :input[name^=shipping_method][type=radio]:checked, :input[name^=shipping_method][type=hidden]").each((function () { s[t(this).data("index")] = t(this).val() })), function (t) { return t.is(".processing") || t.parents(".processing").length }(a = t("div.cart_totals")) || a.addClass("processing").block({ message: null, overlayCSS: { background: "#fff", opacity: .6 } }); var n, i = { security: ins_params.update_shipping_method_nonce, shipping_method: s }; t.ajax({ type: "post", url: (n = "update_shipping_method", ins_params.wc_ajax_url.toString().replace("%%endpoint%%", n)), data: i, dataType: "html", success: function (e) { var a; a = e, t(".ins-cart-collaterals .cart_totals").replaceWith(a), t(document.body).trigger("updated_cart_totals") }, complete: function (e) { !function (t) { t.removeClass("processing").unblock() }(t("div.cart_totals")), t(".ins-cart-collaterals .cart_totals .woocommerce-shipping-totals .woocommerce-shipping-destination").css({ display: "none" }), t(".ins-cart-collaterals .cart_totals .woocommerce-shipping-totals .woocommerce-shipping-calculator").css({ display: "none" }) } }) })) }(jQuery);