!function(n){"use strict";jQuery(document).ready(function(){"no"==noquickview&&(n(document.body).append('<div class="ins-quick-view"></div>'),n(document).on("click",".ins-quick-view .close",function(t){n(this).parent().fadeOut(300)}),n(document).on("click",".product_type_variable",function(t){t.preventDefault();var o=n(this),i=o.offset(),t=o.data("product_id");n(".ins-quick-view").css({top:parseInt(i.top)+parseInt(45)+"px",left:i.left+"px"}),n.ajax({type:"post",url:instantio_ajax_params.wi_ajax_url,data:{action:"wi_variable_product_quick_view",security:instantio_ajax_params.wi_ajax_nonce,product_id:t},beforeSend:function(t){o.addClass("loading"),n(".ins-quick-view").block()},success:function(t){o.removeClass("loading"),n(".ins-quick-view").fadeIn(300).html(t).prepend('<span class="close"></span>')},error:function(t){console.log(t)}})})),"on"==cartFlyanim&&("toggler"==cartFlyicon&&n(document).on("click",".add_to_cart_button:not(.product_type_variable), .single_add_to_cart_button:not(.disabled)",function(){n("body").append('<div id="ins-cart-fly">'+instantio_ajax_params.cart_icon+"</div>");var t=n("#ins-toggle-button").offset(),o=n(this).offset();n("#ins-cart-fly").css({top:o.top+"px",left:o.left+"px"}).animate({opacity:1,top:t.top,left:t.left},1500,function(){n(".cartboom").addClass("cart_boom"),setTimeout(function(){n(".cartboom").removeClass("cart_boom")},2200),n(this).css({opacity:"0","z-index":"0"}),n(this).detach()})}),"thumb"==cartFlyicon&&(n(document).on("click",".add_to_cart_button:not(.product_type_variable)",function(){var t=n(this).parents(".has-post-thumbnail").find(".woocommerce-LoopProduct-link").find("img").attr("src"),o=n(this).parents(".has-post-thumbnail").find(".woocommerce-LoopProduct-link").find("img").offset(),i=n(this).parents(".has-post-thumbnail").find(".woocommerce-LoopProduct-link").find("img").width();n("body").append('<div id="ins-cart-fly"><img src="'+t+'"></div>');t=n("#ins-toggle-button").offset();n("#ins-cart-fly").css({top:o.top+"px",left:o.left+"px",width:i+"px"}).animate({opacity:1,top:t.top,left:t.left,width:"50px",height:"auto"},1500,"linear",function(){n(".cartboom").addClass("cart_boom"),setTimeout(function(){n(".cartboom").removeClass("cart_boom")},2200),n(this).css({opacity:"0","z-index":"0"}),n(this).detach()})}),n(document).on("click",".single_add_to_cart_button:not(.disabled)",function(){var t,o;o=n(this).parents(".has-post-thumbnail").find(".woocommerce-product-gallery__image").find("img").attr("src")?(i=n(this).parents(".has-post-thumbnail").find(".woocommerce-product-gallery__image").find("img").attr("src"),t=n(this).parents(".has-post-thumbnail").find(".woocommerce-product-gallery__image").find("img").offset(),n(this).parents(".has-post-thumbnail").find(".woocommerce-product-gallery__image").width()):(o=n(this).parents(".woocommerce-variation-add-to-cart").find('input[name="add-to-cart"]').attr("value"),i=n(this).parents().find(".post-"+o).find(".woocommerce-LoopProduct-link").find("img").attr("src"),t=n(this).parents().find(".post-"+o).find(".woocommerce-LoopProduct-link").find("img").offset(),n(this).parents().find(".post-"+o).find(".woocommerce-LoopProduct-link").find("img").width()),n("body").append('<div id="ins-cart-fly"><img src="'+i+'"></div>');var i=n("#ins-toggle-button").offset();n("#ins-cart-fly").css({top:t.top+"px",left:t.left+"px",width:o+"px"}).animate({opacity:1,top:i.top,left:i.left,width:"50px",height:"auto"},1500,"linear",function(){n(".cartboom").addClass("cart_boom"),setTimeout(function(){n(".cartboom").removeClass("cart_boom")},2200),n(this).css({opacity:"0","z-index":"0"}),n(this).detach()})}))),"no"==noajaxaddtocart&&n(document).on("click",".single_add_to_cart_button:not(.disabled)",function(t){t.preventDefault();var o=n(this),i=o.closest("form.cart"),a=o.val(),t=i.find("input[name=quantity]").val()||1,i={action:"wi_single_ajax_add_to_cart",product_id:i.find("input[name=product_id]").val()||a,product_sku:"",quantity:t,variation_id:i.find("input[name=variation_id]").val()||0};return n(document.body).trigger("adding_to_cart",[o,i]),n.ajax({type:"post",url:instantio_ajax_params.wi_ajax_url,data:i,beforeSend:function(t){o.removeClass("added").addClass("loading")},complete:function(t){o.addClass("added").removeClass("loading")},success:function(t){t.error&t.product_url?window.location=t.product_url:n(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,o])}}),!1})})}(jQuery);